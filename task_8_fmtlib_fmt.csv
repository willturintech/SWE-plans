repo,test_patch,problem_statement,FAIL_TO_PASS,PASS_TO_PASS,language
fmtlib/fmt,"diff --git a/test/std-test.cc b/test/std-test.cc
index dc1073b58fc8..7a81aaf9a5f5 100644
--- a/test/std-test.cc
+++ b/test/std-test.cc
@@ -25,15 +25,20 @@ TEST(std_test, path) {
 
   EXPECT_EQ(fmt::format(""{}"", path(""foo\""bar"")), ""foo\""bar"");
   EXPECT_EQ(fmt::format(""{:?}"", path(""foo\""bar"")), ""\""foo\\\""bar\"""");
+  
+  EXPECT_EQ(fmt::format(""{:n}"", path(""/usr/bin"")), ""/usr/bin"");
+  EXPECT_EQ(fmt::format(""{:g}"", path(""/usr/bin"")), ""/usr/bin"");
+# ifdef _WIN32
+  EXPECT_EQ(fmt::format(""{:n}"", path(""C:\\foo"")), ""C:\\foo"");
+  EXPECT_EQ(fmt::format(""{:g}"", path(""C:\\foo"")), ""C:/foo"");
 
-#  ifdef _WIN32
   EXPECT_EQ(fmt::format(""{}"", path(
                                   L""\x0428\x0447\x0443\x0447\x044B\x043D\x0448""
                                   L""\x0447\x044B\x043D\x0430"")),
             ""Шчучыншчына"");
   EXPECT_EQ(fmt::format(""{}"", path(L""\xd800"")), ""�"");
   EXPECT_EQ(fmt::format(""{:?}"", path(L""\xd800"")), ""\""\\ud800\"""");
-#  endif
+# endif
 }
 
 // Test ambiguity problem described in #2954.
","Support both generic and native format of std::filesystem::path
Why
-----
Need a way to include the paths with only slashes rather than backslashes in the output in a cross-platform manner. This can be done by introducing  _`type`_ in format-spec for `path`.

How to use the proposed feature
-------------
On Windows,

```cpp
std::filesystem::path filename = R""(C:\Users\zhihaoy\.cache)"";
print(""|{}|"", filename);  // prints |C:\Users\zhihaoy\.cache|
print(""|{:n}|"", filename);  // prints `.native()` |C:\Users\zhihaoy\.cache|
print(""|{:g}|"", filename);  // prints `.generic_wstring()` |C:/Users/zhihaoy/.cache|
```
On POSIX, the last line prints `.generic_string()`.

",['std_test.path'],"['std_test.thread_id', 'std_test.optional', 'std_test.optional_format_as', 'std_test.variant', 'std_test.error_code', 'std_test.exception', 'std_test.format_bit_reference', 'std_test.format_const_bit_reference', 'std_test.format_bitset', 'std_test.format_atomic', 'ranges_std_test.format_vector_path', 'ranges_std_test.format_quote_path']",C++
