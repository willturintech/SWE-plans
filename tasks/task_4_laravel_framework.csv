repo,test_patch,problem_statement,FAIL_TO_PASS,PASS_TO_PASS,language
laravel/framework,"diff --git a/tests/View/Blade/BladeVerbatimTest.php b/tests/View/Blade/BladeVerbatimTest.php
index dfe3eded7fb7..a6a2adc62910 100644
--- a/tests/View/Blade/BladeVerbatimTest.php
+++ b/tests/View/Blade/BladeVerbatimTest.php
@@ -86,4 +86,19 @@ public function testRawBlocksDontGetMixedUpWhenSomeAreRemovedByBladeComments()
 
         $this->assertSame($expected, $this->compiler->compileString($string));
     }
+
+    public function testNewlinesAreInsertedCorrectlyAfterEcho()
+    {
+        $string = ""test @verbatim\nhello world\n@endverbatim"";
+        $expected = ""test \nhello world\n"";
+        $this->assertSame($expected, $this->compiler->compileString($string));
+
+        $string = ""{{ 1 }}\nhello world\n"";
+        $expected = ""<?php echo e(1); ?>\n\nhello world\n"";
+        $this->assertSame($expected, $this->compiler->compileString($string));
+
+        $string = ""{{ 1 }}@verbatim\nhello world\n@endverbatim"";
+        $expected = ""<?php echo e(1); ?>\n\nhello world\n"";
+        $this->assertSame($expected, $this->compiler->compileString($string));
+    }
 }
","Unexpected newline behavior in blade template with echo followed by verbatim
### Laravel Version

v11.4.0

### PHP Version

8.3.6

### Database Driver & Version

_No response_

### Description

In a Blade template, when a echo expression is followed by a verbatim directive, zero or two newlines are echoed. It does not seem possible to echo one newline.

### Steps To Reproduce

Input 1, with no newlines between `{{ 1 }}` and `second line`:

```
first line
{{ 1 }}@verbatim
second line
@endverbatim
final line
```

Output 1:

```
first line
1second line

final line
```

Input 2; one additional newline in the input results in two newlines between `{{ 1 }}` and `second line` in the output:

```
first line
{{ 1 }}
@verbatim
second line
@endverbatim
final line
```

Output 2:

```
first line
1

second line

final line
```
",['Blade Verbatim > Newlines are inserted correctly after echo'],"['Blade Verbatim > Verbatim blocks are compiled', 'Blade Verbatim > Verbatim blocks with multiple lines are compiled', 'Blade Verbatim > Multiple verbatim blocks are compiled', 'Blade Verbatim > Raw blocks are rendered in the right order', 'Blade Verbatim > Multiline templates with raw blocks are rendered in the right order', 'Blade Verbatim > Raw blocks dont get mixed up when some are removed by blade comments']",PHP
