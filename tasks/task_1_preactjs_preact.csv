repo,test_patch,problem_statement,FAIL_TO_PASS,PASS_TO_PASS,language
preactjs/preact,"diff --git a/test/browser/render.test.js b/test/browser/render.test.js
index 6ad547a000..67d6085b81 100644
--- a/test/browser/render.test.js
+++ b/test/browser/render.test.js
@@ -758,6 +758,13 @@ describe('render()', () => {
 		expect(scratch.firstChild.checked).to.equal(true);
 	});
 
+	// #2756
+	it('should set progress value to 0', () => {
+		render(<progress value={0} max=""100"" />, scratch);
+		expect(scratch.firstChild.value).to.equal(0);
+		expect(scratch.firstChild.getAttribute('value')).to.equal('0');
+	});
+
 	it('should always diff `checked` and `value` properties against the DOM', () => {
 		// See https://github.com/preactjs/preact/issues/1324
 
","Setting the value of a progress element to 0 removes the attribute
### Reproduction

If you use the [progress](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/progress) element, and set the value to be 0, Preact removes the value attribute in the DOM.

This has the slight disadvantage that if you're styling it, Firefox treats `::-moz-progress-bar` to be 100%, whereas WebKit thinks `::-webkit-progress-value` is 0%.

### Steps to reproduce
Preact: 10.4.8

* Create a progress element, with a value of 0:
`const Progress = () => <progress value={0} max=""100"" />;`
* Inspect the Element and notice the value isn't present.

### Expected Behavior

This behaviour to remain the same as React, with the value not being removed.
React: https://codepen.io/charlier/pen/NWNONME
Preact: https://codepen.io/charlier/pen/dyMgMQR


### Actual Behavior

Setting the value to 0 removes the attribute.



https://github.com/facebook/react/issues/6704 goes into a little bit of historical detail for this in React, with a workaround.
",['render() > should set progress value to 0'],"['render() > should rerender when value from """" to 0', 'render() > should render an empty text node given an empty string', 'render() > should allow node type change with content', 'render() > should not render when detecting JSON-injection', 'render() > should create empty nodes (<* />)', 'render() > should not throw error in IE11 with type date', 'render() > should support custom tag names', 'render() > should support the form attribute', 'render() > should allow VNode reuse', 'render() > should merge new elements when called multiple times', 'render() > should nest empty nodes', 'render() > should not render falsy values', 'render() > should not render null', 'render() > should not render undefined', 'render() > should not render boolean true', 'render() > should not render boolean false', 'render() > should not render children when using function children', 'render() > should render NaN as text content', 'render() > should render numbers (0) as text content', 'render() > should render numbers (42) as text content', 'render() > should render strings as text content', 'render() > should render arrays of mixed elements', 'render() > should clear falsy attributes', 'render() > should not render falsy attributes on hydrate', 'render() > should clear falsy input values', 'render() > should set value inside the specified range', 'render() > should not clear falsy DOM properties', 'render() > should set enumerable boolean attribute', 'render() > should render download attribute', 'render() > should not set tagName', 'render() > should apply string attributes', 'render() > should not serialize function props as attributes', 'render() > should serialize object props as attributes', 'render() > should apply class as String', 'render() > should alias className to class', 'render() > should support false aria-* attributes', 'render() > should set checked attribute on custom elements without checked property', 'render() > should set value attribute on custom elements without value property', 'render() > should mask value on password input elements', 'render() > should unset href if null || undefined', 'render() > should reconcile mutated DOM attributes', 'render() > should reorder child pairs', 'render() > should allow <input list /> to pass through as an attribute', 'render() > should not throw when setting size to an invalid value', 'render() > should not execute append operation when child is at last', 'render() > should keep value of uncontrolled inputs', 'render() > should keep value of uncontrolled checkboxes', 'render() > should always diff `checked` and `value` properties against the DOM', 'render() > should always diff `contenteditable` `innerHTML` against the DOM', 'render() > should not re-render when a component returns undefined', 'render() > should not lead to stale DOM nodes', 'render() > should not reuse unkeyed components', 'render() > should not cause infinite loop with referentially equal props', 'render() > should not call options.debounceRendering unnecessarily', 'render() > should remove attributes on pre-existing DOM', 'render() > should remove class attributes', 'render() > should not read DOM attributes on render without existing DOM', 'render() > dangerouslySetInnerHTML > should support dangerouslySetInnerHTML', 'render() > dangerouslySetInnerHTML > should apply proper mutation for VNodes with dangerouslySetInnerHTML attr', 'render() > dangerouslySetInnerHTML > should not hydrate with dangerouslySetInnerHTML', 'render() > dangerouslySetInnerHTML > should avoid reapplying innerHTML when __html property of dangerouslySetInnerHTML attr remains unchanged', 'render() > dangerouslySetInnerHTML > should unmount dangerouslySetInnerHTML']",JS/TS
