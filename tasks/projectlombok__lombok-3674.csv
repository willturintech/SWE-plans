repo,test_patch,problem_statement,FAIL_TO_PASS,PASS_TO_PASS,language
projectlombok/lombok,"diff --git a/test/transform/resource/after-delombok/StandardExceptionWithConstructor.java b/test/transform/resource/after-delombok/StandardExceptionWithConstructor.java
new file mode 100644
index 000000000..3e1cf3e43
--- /dev/null
+++ b/test/transform/resource/after-delombok/StandardExceptionWithConstructor.java
@@ -0,0 +1,25 @@
+public class StandardExceptionWithConstructor extends Exception {
+	public StandardExceptionWithConstructor(Integer x, Integer y) {
+	}
+	@java.lang.SuppressWarnings(""all"")
+	@lombok.Generated
+	public StandardExceptionWithConstructor() {
+		this((java.lang.String) null, (java.lang.Throwable) null);
+	}
+	@java.lang.SuppressWarnings(""all"")
+	@lombok.Generated
+	public StandardExceptionWithConstructor(final java.lang.String message) {
+		this(message, (java.lang.Throwable) null);
+	}
+	@java.lang.SuppressWarnings(""all"")
+	@lombok.Generated
+	public StandardExceptionWithConstructor(final java.lang.Throwable cause) {
+		this(cause != null ? cause.getMessage() : null, cause);
+	}
+	@java.lang.SuppressWarnings(""all"")
+	@lombok.Generated
+	public StandardExceptionWithConstructor(final java.lang.String message, final java.lang.Throwable cause) {
+		super(message);
+		if (cause != null) super.initCause(cause);
+	}
+}
diff --git a/test/transform/resource/after-delombok/StandardExceptions.java b/test/transform/resource/after-delombok/StandardExceptions.java
index af2edf6b7..ecfabb417 100644
--- a/test/transform/resource/after-delombok/StandardExceptions.java
+++ b/test/transform/resource/after-delombok/StandardExceptions.java
@@ -2,12 +2,12 @@ class EmptyException extends Exception {
 	@java.lang.SuppressWarnings(""all"")
 	@lombok.Generated
 	public EmptyException() {
-		this(null, null);
+		this((java.lang.String) null, (java.lang.Throwable) null);
 	}
 	@java.lang.SuppressWarnings(""all"")
 	@lombok.Generated
 	public EmptyException(final java.lang.String message) {
-		this(message, null);
+		this(message, (java.lang.Throwable) null);
 	}
 	@java.lang.SuppressWarnings(""all"")
 	@lombok.Generated
@@ -27,7 +27,7 @@ public NoArgsException() {
 	@java.lang.SuppressWarnings(""all"")
 	@lombok.Generated
 	protected NoArgsException(final java.lang.String message) {
-		this(message, null);
+		this(message, (java.lang.Throwable) null);
 	}
 	@java.lang.SuppressWarnings(""all"")
 	@lombok.Generated
diff --git a/test/transform/resource/after-ecj/StandardExceptionWithConstructor.java b/test/transform/resource/after-ecj/StandardExceptionWithConstructor.java
new file mode 100644
index 000000000..22f73e639
--- /dev/null
+++ b/test/transform/resource/after-ecj/StandardExceptionWithConstructor.java
@@ -0,0 +1,20 @@
+import lombok.experimental.StandardException;
+public @StandardException class StandardExceptionWithConstructor extends Exception {
+  public StandardExceptionWithConstructor(Integer x, Integer y) {
+    super();
+  }
+  public @java.lang.SuppressWarnings(""all"") @lombok.Generated StandardExceptionWithConstructor() {
+    this((java.lang.String) null, (java.lang.Throwable) null);
+  }
+  public @java.lang.SuppressWarnings(""all"") @lombok.Generated StandardExceptionWithConstructor(final java.lang.String message) {
+    this(message, (java.lang.Throwable) null);
+  }
+  public @java.lang.SuppressWarnings(""all"") @lombok.Generated StandardExceptionWithConstructor(final java.lang.Throwable cause) {
+    this(((cause != null) ? cause.getMessage() : null), cause);
+  }
+  public @java.lang.SuppressWarnings(""all"") @lombok.Generated StandardExceptionWithConstructor(final java.lang.String message, final java.lang.Throwable cause) {
+    super(message);
+    if ((cause != null))
+        super.initCause(cause);
+  }
+}
\ No newline at end of file
diff --git a/test/transform/resource/after-ecj/StandardExceptions.java b/test/transform/resource/after-ecj/StandardExceptions.java
index b5e0f8580..2ba3c02ce 100644
--- a/test/transform/resource/after-ecj/StandardExceptions.java
+++ b/test/transform/resource/after-ecj/StandardExceptions.java
@@ -2,10 +2,10 @@
 import lombok.experimental.StandardException;
 @StandardException class EmptyException extends Exception {
   public @java.lang.SuppressWarnings(""all"") @lombok.Generated EmptyException() {
-    this(null, null);
+    this((java.lang.String) null, (java.lang.Throwable) null);
   }
   public @java.lang.SuppressWarnings(""all"") @lombok.Generated EmptyException(final java.lang.String message) {
-    this(message, null);
+    this(message, (java.lang.Throwable) null);
   }
   public @java.lang.SuppressWarnings(""all"") @lombok.Generated EmptyException(final java.lang.Throwable cause) {
     this(((cause != null) ? cause.getMessage() : null), cause);
@@ -21,7 +21,7 @@ public NoArgsException() {
     super();
   }
   protected @java.lang.SuppressWarnings(""all"") @lombok.Generated NoArgsException(final java.lang.String message) {
-    this(message, null);
+    this(message, (java.lang.Throwable) null);
   }
   protected @java.lang.SuppressWarnings(""all"") @lombok.Generated NoArgsException(final java.lang.Throwable cause) {
     this(((cause != null) ? cause.getMessage() : null), cause);
diff --git a/test/transform/resource/before/StandardExceptionWithConstructor.java b/test/transform/resource/before/StandardExceptionWithConstructor.java
new file mode 100644
index 000000000..111cadd83
--- /dev/null
+++ b/test/transform/resource/before/StandardExceptionWithConstructor.java
@@ -0,0 +1,7 @@
+import lombok.experimental.StandardException;
+
+@StandardException
+public class StandardExceptionWithConstructor extends Exception {
+	public StandardExceptionWithConstructor(Integer x, Integer y) {
+	}
+}
\ No newline at end of file
diff --git a/test/transform/resource/messages-ecj/StandardExceptionWithConstructor.java.messages b/test/transform/resource/messages-ecj/StandardExceptionWithConstructor.java.messages
new file mode 100644
index 000000000..0896e9cfc
--- /dev/null
+++ b/test/transform/resource/messages-ecj/StandardExceptionWithConstructor.java.messages
@@ -0,0 +1,1 @@
+4 The serializable class StandardExceptionWithConstructor does not declare a static final serialVersionUID field of type long
\ No newline at end of file
","[BUG] Using @StandardException and @AllArgConstructor on a class with two non-primitive fields creates ambiguous constructor
**Describe the bug**
Using @StandardException and @AllArgConstructor on a class with TWO extra fields creates ambiguous constructor

**To Reproduce**
Try compiling:

    @StandardException
    @AllArgsConstructor
    public class Failure extends Exception {
        Date today;
        Integer row;
    }

fails with the error message:

    java: reference to Failure is ambiguous
      both constructor Failure(java.lang.String,java.lang.Throwable) in com.example.demo.Failure and constructor Failure(java.util.Date,java.lang.Integer) in com.example.demo.Failure match

Order of explicit fields does not matter.  

Defining only one or more than two fields compiles without issue:

    @StandardException
    @AllArgsConstructor
    public class Failure extends Exception {
        Date today;
    }

and

    @StandardException
    @AllArgsConstructor
    public class Failure extends Exception {
        Date today;
        Integer row;
        byte[] data;
    }

work as expected, allowing to write code such as 

    @StandardException
    @AllArgsConstructor
    @ToString
    public class Failure extends Exception {
        @With
        Date today;
        @With
        Integer row;
        @With
        byte[] data;
    }

    [...]

    throw new Failure(""ouch"", cause)
            .withData(new byte[] {1,2,3})
            .withToday(LocalDateTime.now())
            .withRow(44);

NOTE: `ToString` generated code does not include the `@StandardException` fields `message` and `cause`.

Changing one or many fields to a primitive type (e.g. Integer -> int) also fixes the issue:
    
    public class Failure extends RuntimeException {
        @With
        LocalDateTime today;
        @With
        int row;
    }

**Expected behavior**

It is expected that a class annotated with both `@StandardException` and `@AllArgsConstructor` defining TWO non-primitive fields should successfully compile, similarly to a class defining one, three or more non-primitive parameters. 

The following code:

    @StandardException
    @AllArgsConstructor
    @Getter
    @ToString
    public class Failure extends RuntimeException {
        @With
        LocalDateTime today;
        @With
        Integer row;
    }

should be converted to the equivalent (compiling) code:

    @AllArgsConstructor
    @Getter
    @ToString
    public class Failure extends RuntimeException {
        @With
        LocalDateTime today;
        @With
        Integer row;
    
        final String message;
        final Throwable cause;

        public Failure() {
            this(null, null);
        }
    
        public Failure(String message) {
            this(message, null);
        }
    
        public Failure(Throwable cause) {
            this(null, cause);
        }
    
        public Failure(String message, Throwable cause) {
            this.message = message;
            this.cause = cause;
        }
    }

Looking at it this way, my hypothesis is that both `@ToString` and `@AllArgs` ignore the added fields from `@StandardException`. I haven't looked at Lombok code in a long time but it seems that `@StandardException` should have priority into extending the class so that other annotations can pickup its additions and process them like regular code.

**Version info (please complete the following information):**
 - Lombok version: 1.18.30
 - Platform: javac 21.0.2

","['javac-StandardExceptionWithConstructor.java(lombok.transform.TestWithDelombok)', 'javac-StandardExceptions.java(lombok.transform.TestWithDelombok)']",['javac-NonNullWithAlternateException.java(lombok.transform.TestWithDelombok)'],Java
