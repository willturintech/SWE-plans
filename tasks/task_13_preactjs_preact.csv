repo,test_patch,problem_statement,FAIL_TO_PASS,PASS_TO_PASS,language
preactjs/preact,"diff --git a/test/browser/components.test.js b/test/browser/components.test.js
index 3d36e3a29f..1dfb7a55d9 100644
--- a/test/browser/components.test.js
+++ b/test/browser/components.test.js
@@ -533,6 +533,18 @@ describe('Components', () => {
 		expect(scratch.innerHTML).to.equal('42');
 	});
 
+	it('should render a new String()', () => {
+		class ConstructedStringComponent extends Component {
+			render() {
+				/* eslint-disable no-new-wrappers */
+				return new String('Hi from a constructed string!');
+			}
+		}
+
+		render(<ConstructedStringComponent />, scratch);
+		expect(scratch.innerHTML).to.equal('Hi from a constructed string!');
+	});
+
 	it('should render null as empty string', () => {
 		class NullComponent extends Component {
 			render() {
","<div>{ new String('hi') }</div> renders blank
- [x] Check if updating to the latest Preact version resolves the issue

**Describe the bug**
```tsx
render(
  <div>
    { new String('this should work') }
  </div>,
  root
);
```

doesn't render the string.  This works in React.  

**To Reproduce**

[React and Preact are both shown here](https://colab.research.google.com/gist/appsforartists/21d0171efedf3f1193fe2d750747f28a/preact-vs-react-rendering-string-objects.ipynb)

**Note**

Normally I would just render a string primitive; however, some of the strings I want to render may have metadata attached to them (not relevant to the render, but useful in the app).

```typescript
const thing = 'thing';
thing.metadata = 123;
```

is illegal; however,

```typescript
const thing = new String('thing');
thing.metadata = 123;
```

works.  Thus, I'm trying to figure out how I can have an object that is treated like a string e.g. by Preact, but can have metadata attached when needed.
",['Components > should render a new String()'],"['Components > should render string', 'Components > should render number as string', 'Components > should render null as empty string', 'Components > should remove orphaned elements replaced by Components', 'Components > should remove children when root changes to text node', 'Components > should maintain order when setting state (that inserts dom-elements)', 'Components > should not recycle common class children with different keys', 'Components > should set component._vnode._dom when sCU returns false', 'Components > should handle hoisted component vnodes without DOM', 'Components > Component construction > should render components', 'Components > Component construction > should render functional components', 'Components > Component construction > should render components with props', 'Components > Component construction > should not crash when setting state in constructor', 'Components > Component construction > should not crash when setting state with cb in constructor', 'Components > Component construction > should not crash when calling forceUpdate with cb in constructor', 'Components > Component construction > should accurately call nested setState callbacks', 'Components > Component construction > should initialize props & context but not state in Component constructor', ""Components > Component construction > should render Component classes that don't pass args into the Component constructor"", 'Components > Component construction > should also update the current dom', 'Components > Component construction > should not orphan children', ""Components > Component construction > should render components that don't pass args into the Component constructor (unistore pattern)"", ""Components > Component construction > should render components that don't call Component constructor"", ""Components > Component construction > should render components that don't call Component constructor and don't initialize state"", ""Components > Component construction > should render components that don't inherit from Component"", ""Components > Component construction > should render components that don't inherit from Component (unistore pattern)"", ""Components > Component construction > should render components that don't inherit from Component and don't initialize state"", 'Components > Component construction > should render class components that inherit from Component without a render method', ""Components > Component construction > should render DOM element's array children"", ""Components > Component construction > should render Component's array children"", ""Components > Component construction > should render Fragment's array children"", 'Components > Component construction > should render sibling array children', 'Components > Component construction > should support passing children as a prop', 'Components > Component construction > should be ignored when explicit children exist', 'Components > Component construction > should be undefined with no child', 'Components > Component construction > should be null with null as a child', 'Components > Component construction > should be false with false as a child', 'Components > Component construction > should be true with true as a child', 'Components > Component construction > should be a string with a text child', 'Components > Component construction > should be a string with a number child', 'Components > Component construction > should be a VNode with a DOM node child', 'Components > Component construction > should be a VNode with a Component child', 'Components > Component construction > should be a function with a function child', 'Components > Component construction > should be an array with multiple children', 'Components > Component construction > should be an array with an array as children', 'Components > Component construction > should not flatten sibling and nested arrays', 'Components > Component construction > should render wrapper HOCs', 'Components > Component construction > should render HOCs with generic children', 'Components > Component construction > should render nested functional components', 'Components > Component construction > should re-render nested functional components', 'Components > Component construction > should re-render nested components', 'Components > Component construction > should resolve intermediary functional component', 'Components > Component construction > should unmount children of high-order components without unmounting parent', 'Components > Component construction > should remount when swapping between HOC child types', 'Components > Component construction > should handle lifecycle for no intermediary in component tree', 'Components > Component construction > should handle lifecycle for nested intermediary functional components', 'Components > Component construction > should render components by depth', 'Components > Component construction > should handle lifecycle for nested intermediary elements', 'Components > Component construction > should keep c.base up to date if a nested child component changes DOM nodes', 'Components > Component construction > should not update sibling c.base if child component changes DOM nodes', 'Components > Component construction > should not update parent c.base if child component changes DOM nodes and it is not first child component', 'Components > Component construction > should update parent c.base if child component changes DOM nodes and it is first non-null child component', 'Components > Component construction > should not update parent c.base if child component changes DOM nodes and a parent is not first child component', 'Components > Component construction > should update parent c.base if first child becomes null', 'Components > Component construction > should update parent c.base if first child becomes non-null', 'Components > Component construction > should update parent c.base if first non-null child becomes null with multiple null siblings', 'Components > Component construction > should update parent c.base if a null child returns DOM with multiple null siblings', 'Components > Component construction > should update parent c.base to null if last child becomes null', 'Components > Component construction > should update parent c.base if last child returns dom', 'Components > Component construction > should not update parent if it is a DOM node', 'Components > Component construction > should not error if called on an unmounted component', 'Components > Component construction > setState callbacks should have latest state, even when called in render', 'Components > Component construction > should work with readonly state', 'Components > Component construction > should update old dom on forceUpdate in a lifecycle', 'Components > Component construction > should skip shouldComponentUpdate when called during render', 'Components > Component construction > should break through strict equality optimization']",JS/TS
